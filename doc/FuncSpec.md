# 项目功能分析

---

## 桌面端

### 桌面服务端

- 为桌面用户端提供服务，服务届时开启于端口`10475`，通过既有域名`zpss.info`解析提供服务。
- 通过Java Socket实现客户端与服务端的通信；通过JDBC连接部署在同服务器的MySQL数据库，实现数据库的增删改查操作。
- 根据客户端请求，执行对应SQL语句，从数据库中获取数据，生成对应DAO对象，通过特定消息串格式返回给客户端。
- 将来自客户端的消息解析为对应的DAO对象，执行对应SQL语句，将结果存入数据库实现数据持久化。
- 因部署在云服务器端，采用无GUI界面设计，通过命令行输出日志信息。

### 桌面客户端

- 通过Java Swing实现桌面客户端的UI设计；通过Java Socket实现客户端与服务端的通信。
- 树洞模块
    - 分区
        - 自动加载：用户默认加入全国分区和对应高校分区；进入树洞界面后，默认进入全国分区树洞，加载全国分区树洞的贴子，展示在界面中。
        - 手动切换：用户点击分区按钮，切换到对应分区树洞，加载对应分区树洞的贴子，展示在界面中。
        - 加入分区：用户点击加入分区按钮，将信息发送给服务端，服务端处理数据，返回加入成功信息，将分区信息添加进用户分区列表中。
        - 退出分区：用户点击退出分区按钮，将信息发送给服务端，服务端处理数据，返回退出成功信息，将分区信息从用户分区列表中删除。
    - 浏览
        - 自动刷新：用户进入树洞界面后，自动获取全国分区树洞最新发布的特定条数的一页贴子，展示在界面中。
        - 手动刷新：用户点击刷新按钮，获取树洞最新发布的特定条数贴子，展示在界面中。
        - 分页浏览：用户点击上一页、下一页按钮，获取树洞上一页、下一页的特定条数信息，展示在界面中。
        - 收藏贴子：用户点击收藏按钮，将信息发送给服务端，服务端处理数据，返回收藏成功信息。
        - 分享贴子：用户点击分享按钮，获取贴子对应的Web端链接，将链接复制到剪贴板。
    - 发布
        - 发贴：用户在树洞界面中输入待发贴内容，点击发布按钮，将信息发送给服务端，服务端处理数据，返回发布成功信息。
        - 跟贴：用户在树洞界面中输入评论内容，点击评论按钮，将信息发送给服务端，服务端处理数据，返回评论成功信息。
    - 搜索
        - 贴子搜索：用户输入关键词，点击搜索按钮，获取树洞中包含关键词的贴子，展示在界面中。可以点击进入该贴子。
        - 分区搜索：用户输入关键词，点击搜索按钮，获取树洞中包含关键词的分区，展示在界面中。可以点击加入该分区。
        - 用户搜索：用户输入关键词，点击搜索按钮，获取树洞中包含关键词的用户，展示在界面中。可以点击进入该用户的个人中心。

- 个人中心模块
    - 用户账户（个人视图）
        - 注册：用户输入用户名、密码、性别、年龄、学校、专业等信息，点击注册按钮，将信息发送给服务端，服务端处理数据，返回注册状态。
        - 登录：用户输入用户名、密码，点击登录按钮，将信息发送给服务端，服务端将信息与数据库中的信息进行比对，返回登录状态。
        - 下线：用户点击退出按钮，将信息发送给服务端，服务端将信息存入数据库，返回退出成功信息。
        - 注销：用户点击注销按钮，将信息发送给服务端，服务端将用户信息标记为注销，返回注销成功信息。
    - 个人信息
        - 信息查询：用户进入个人中心界面后，发送查询用户信息给服务端，服务端处理数据，返回用户信息。
        - 信息修改（个人视图）：已登录用户在个人中心界面中修改信息，点击修改按钮，将信息发送给服务端，服务端处理数据，返回修改成功信息。
    - 关注用户
        - 添加关注：用户在待关注用户的个人中心中点击关注按钮，将信息发送给服务端，服务端处理数据，返回关注成功信息。
        - 取消关注：用户在待取消关注用户的个人中心中点击取消关注按钮，将信息发送给服务端，服务端处理数据，返回取消关注成功信息。
        - 关注查询（个人视图）：用户进入关注列表界面后，发送查询关注信息给服务端，服务端处理数据，返回关注列表。
        - 私聊（个人视图）：相互关注的用户可以进行私聊
            - 消息记录：用户进入与某相互关注的私聊界面中，自动获取与该用户的私聊记录，展示在界面中。
            - 发送消息：用户在私聊界面中输入待发送消息，点击发送按钮，将信息发送给服务端，服务端处理数据，返回发送成功信息。
            - 接收消息：用户在私聊界面中，接收服务端发送的消息。
    - 我的收藏（个人视图）
        - 收藏查询：用户进入个人中心界面后，发送查询收藏信息给服务端，服务端处理数据，返回收藏信息。
        - 取消收藏：用户点击取消收藏按钮，将信息发送给服务端，服务端处理数据，返回取消收藏成功信息。
    - 我的发布（个人视图）
        - 贴子查询：用户进入个人中心界面后，发送查询贴子信息给服务端，服务端处理数据，返回贴子信息。
        - 贴子删除：用户点击删除按钮，将信息发送给服务端，服务端处理数据，返回删除成功信息。

---

## Web端

[//]: # (TODO)

### Web服务端

[//]: # (TODO)

### Web客户端（浏览器）

[//]: # (TODO)